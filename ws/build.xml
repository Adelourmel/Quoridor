<project basedir="." default="all">

	<target name = "unittest" depends="compile">
	   <junit haltonfailure = "true" printsummary = "true">
	      <test name = "java ../src/Test/*"/>
	   </junit>
	</target>

	<target name="compile">
		<javac srcdir="../src/" destdir="../class" includeAntRuntime="no"/>
	</target>

	<target name="test" depends="compil" description="Executer les tests avec JUnit">
		<junit fork="yes" haltonerror="true" haltonfailure="on" printsummary="on">
			<formatter type="plain" usefile="false" />
			<test name="ExecuterLesTests"/>
			<classpath>
				<pathelement location="${bin}"/>

				<pathelement location="${junit_path}"/>

			</classpath>

		</junit>

	</target>


	<target name="manifest">
		<manifest file="../class/MANIFEST.MF">
			<attribute name="Main-Class" value="Launcher"/>
		</manifest>
	</target>

	<target name="archive" depends="manifest">
		<jar jarfile="../Quoridor.jar" basedir="../class" manifest="../class/MANIFEST.MF"/>

	</target>

	<target name="run">
		<java jar="../Quoridor.jar" fork="true"/>
	</target>

	<target name="doc">
		<javadoc sourcepath="../src/*.java" destdir="../javadoc/"/>
	</target>

	<target name="all" depends="compile,archive,run"/>

</project>
